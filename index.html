<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞</title>
  <style>
    body {
      font-family: 'SolaimanLipi', Arial, sans-serif;
      padding: 20px;
      background: #f9f9f9;
    }

    h1 {
      text-align: center;
      margin-bottom: 15px;
    }

    table {
      width: 100%;
      max-width: 700px;
      margin: auto;
      border-collapse: collapse;
      background: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    th, td {
      border: 1px solid #ddd;
      padding: 12px 15px;
      text-align: left;
      vertical-align: middle;
    }

    th {
      background: #4caf50;
      color: white;
    }

    tr.completed td {
      text-decoration: line-through;
      color: gray;
    }

    tr.today {
      background: #ffffcc;
      font-weight: bold;
    }

    input[type='checkbox']:disabled {
      cursor: not-allowed;
      opacity: 0.5;
    }

    input[type='checkbox'] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    button {
      margin: 20px auto;
      display: block;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background: #d9534f;
      color: white;
      border: none;
      border-radius: 5px;
    }

    button:disabled {
      background: #999;
      cursor: not-allowed;
    }

    button:hover:enabled {
      background: #c9302c;
    }

    .profile-img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 0 10px 2px rgba(0, 255, 0, 0.4);
      margin-right: 8px;
      vertical-align: middle;
    }

    .name-cell {
      display: flex;
      align-items: center;
    }

    .indicator-dot {
      display: inline-block;
      width: 10px;
      height: 10px;
      background-color: red;
      border-radius: 50%;
      margin-left: 8px;
      animation: blink 1s infinite;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    @media (max-width: 640px) {
      table, th, td {
        font-size: 14px;
      }
      .profile-img {
        width: 30px;
        height: 30px;
      }
    }
  </style>
</head>
<body>
  <h1>‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞</h1>

  <table>
    <thead>
      <tr>
        <th>‡¶¶‡¶ø‡¶®</th>
        <th>‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶¶‡¶æ‡ßü‡¶ø‡¶§‡ßç‡¶¨</th>
        <th style="text-align: center;">‚úÖ ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑?</th>
      </tr>
    </thead>
    <tbody id="taskTableBody"></tbody>
  </table>

  <button id="resetBtn">üîÅ ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶∞‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßã (‡¶∏‡¶¨ ‡¶ü‡¶ø‡¶ï ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßã)</button>

  <script>
    const tasks = [
      { day: '‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞', person: '‡¶Ü‡¶¨‡ßÅ‡¶¨‡¶ï‡¶∞', img: 'https://via.placeholder.com/100x100?text=A' },
      { day: '‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞', person: '‡¶∏‡¶æ‡¶¶‡ßç‡¶¶‡¶æ‡¶Æ', img: 'https://via.placeholder.com/100x100?text=S' },
      { day: '‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞', person: '‡¶∏‡¶ú‡ßÄ‡¶¨', img: 'https://via.placeholder.com/100x100?text=SJ' },
      { day: '‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞', person: '‡¶∞‡¶Æ‡¶ø‡¶Æ', img: 'https://via.placeholder.com/100x100?text=R' },
      { day: '‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞', person: '‡¶ï‡¶æ‡¶≤‡¶æ‡¶Æ ‡¶≠‡¶æ‡¶á', img: 'https://via.placeholder.com/100x100?text=K' },
      { day: '‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞', person: '‡¶∏‡¶æ‡¶á‡¶´‡ßÅ‡¶≤ + ‡¶á‡¶â‡¶∏‡ßÅ‡¶´ ‡¶≠‡¶æ‡¶á', img: 'https://via.placeholder.com/100x100?text=SY' },
      { day: '‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞', person: '‡¶¶‡¶ø‡¶®‡ßÅ ‡¶≠‡¶æ‡¶á', img: 'https://via.placeholder.com/100x100?text=D' },
    ];

    const tbody = document.getElementById('taskTableBody');
    const resetBtn = document.getElementById('resetBtn');

    function loadStatus() {
      const status = localStorage.getItem('dailyTaskStatus');
      return status ? JSON.parse(status) : {};
    }

    function saveStatus(status) {
      localStorage.setItem('dailyTaskStatus', JSON.stringify(status));
    }

    function getTodayDay() {
      const daysBn = ['‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞', '‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞', '‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞', '‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞', '‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞', '‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞', '‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞'];
      const todayIndex = new Date().getDay();
      return daysBn[todayIndex];
    }

    function allTasksCompleted(status) {
      return tasks.every((_, index) => status[index]);
    }

    function renderTable() {
      const status = loadStatus();
      const today = getTodayDay();
      tbody.innerHTML = '';
      let reminderShown = false;

      tasks.forEach((task, index) => {
        const tr = document.createElement('tr');
        const isToday = task.day === today;
        const isChecked = status[index];

        if (isChecked) tr.classList.add('completed');
        if (isToday) tr.classList.add('today');

        tr.innerHTML = `
          <td>${task.day}</td>
          <td class="name-cell">
            <img src="${task.img}" alt="${task.person}" class="profile-img" />
            ${task.person}
            ${isToday && !isChecked ? '<span class="indicator-dot"></span>' : ''}
          </td>
          <td style="text-align:center;">
            <input type="checkbox"
              ${isChecked ? 'checked' : ''}
              ${isToday ? '' : 'disabled'}
              data-index="${index}">
          </td>
        `;
        tbody.appendChild(tr);

        // üîî ‡¶∞‡¶ø‡¶Æ‡¶æ‡¶á‡¶®‡ßç‡¶°‡¶æ‡¶∞
        if (isToday && !isChecked && !reminderShown) {
          setTimeout(() => {
            alert(`‚ö†Ô∏è ‡¶Ü‡¶ú ${task.person}-‡¶è‡¶∞ ‡¶¶‡¶æ‡ßü‡¶ø‡¶§‡ßç‡¶¨! ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶è‡¶ñ‡¶®‡¶ì ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡¶®‡¶ø‡•§`);
          }, 500);
          reminderShown = true;
        }
      });

      resetBtn.disabled = !allTasksCompleted(status);
    }

    tbody.addEventListener('change', (e) => {
      if (e.target.tagName === 'INPUT' && e.target.type === 'checkbox') {
        const index = e.target.getAttribute('data-index');
        const status = loadStatus();
        status[index] = e.target.checked;
        saveStatus(status);
        renderTable();
      }
    });

    resetBtn.addEventListener('click', () => {
      const status = loadStatus();
      if (!allTasksCompleted(status)) {
        alert('‚ùå ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶ú ‡¶ü‡¶ø‡¶ï ‡¶¶‡¶ø‡¶®, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
        return;
      }

      if (confirm('‚úÖ ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶∞‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?')) {
        localStorage.removeItem('dailyTaskStatus');
        renderTable();
      }
    });

    renderTable();
  </script>
</body>
</html>
